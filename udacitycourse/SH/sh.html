<!Doctype html>
<head>
	<script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
	<script type="text/javascript">
	var myChart;
		function draw(data) {
		//debugger;
		var margin = 20,
			width = 1200 - margin,
			height = 500 - margin;
		d3.select('body').append('h2').text('Seng Hing taking 2014-2015');
		d3.select('h2').style('text-align','center');

		var svg = d3.select("body")
			.append("svg")
			.attr("width", width + margin)
			.attr("height", height + margin)
			.append('g')
			.attr('class','chart');

      /*
        Dimple.js Chart construction code
      */

          myChart = new dimple.chart(svg, data);
          var x = myChart.addTimeAxis("x", "Week", "%d/%m/%Y", "%m-%Y");
          myChart.addMeasureAxis("y", "Taking");
          myChart.addSeries(null, dimple.plot.line);
          myChart.addSeries(null, dimple.plot.scatter);
          myChart.draw();
			//debugger;
			/*
          var data2 = ['01/01/2015',1];
          svg.append('line').attr("x1", x._scale(1000))
			.attr("x2", x._scale(1000))
			.attr("y1", myChart._yPixels())
			.attr("y2", myChart._yPixels() + myChart._heightPixels())
			.style("stroke", "red")
			.style("stroke-dasharray", "3");
			*/
		}

		function draw_events(data2) {
			debugger;
			for(i=0; i<data2.length;i++) {data2[i]['test'] = 1; }
/*
			var y2 = myChart.addPctAxis("y", "test");
			y2.hidden = true;

			var s3 = myChart.addSeries("Event", dimple.plot.area, [myChart.axes[0], y2]);
			myChart.draw()
			*/
		}
	</script>
</head>
<body>
  <script type="text/javascript">
  /*
    Use D3 (not dimple.js) to load the TSV file
    and pass the contents of it to the draw function
    */
  d3.tsv("SH.tsv", draw);
//  d3.csv("monash.csv",draw_events);
  </script>
</body>
</html>